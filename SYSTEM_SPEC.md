# 新泰汽車傳動軸 - 專案規格書 (V1.4)

## 📋 目錄
- [1. 商家核心資訊 (Business Profile)](#1-商家核心資訊-business-profile)
- [2. UI/UX 視覺與內容規劃](#2-uiux-視覺與內容規劃)
- [3. 系統核心邏輯 (System Logic)](#3-系統核心邏輯-system-logic)
- [4. 資料庫架構 (Schema Overview)](#4-資料庫架構-schema-overview)
- [5. 擴充建議 (Future Roadmap)](#5-擴充建議-future-roadmap)

## 1. 商家核心資訊 (Business Profile)
- **名稱**: {動態讀取} (預設：新泰汽車傳動軸)
- **地址**: {動態讀取} (預設：525 彰化縣竹塘鄉光明路 525 號竹田巷 17 之 8 號)
- **電話**: {動態讀取} (預設：0979 293 225)
- **FB**: https://www.facebook.com/profile.php?id=100057570485268
- **營業時間 (即預約開放時間)**: 
  - 週一至週六：
    - 上午：08:30 – 12:00
    - 下午：13:30 – 17:30
  - 週日：全天休息 (不開放預約)

## 2. UI/UX 視覺與內容規劃
- **風格定位**: 工業現代風 (Industrial Professional)。
- **配色**: 
  - 主色 `碳灰 (#2D2D2D)`
  - 點綴色 `亮橙 (#FF8C00)`
  - 背景 `純白/淺灰`
- **首頁單元**:
  1. **Hero**: 專業標語「傳動軸異音專家，精密平衡修護」。
  2. **關於我們**: 強調專業技術與新泰服務精神。
  3. **服務項目**: 顯示管理者在後台設定的項目。
  4. **聯絡資訊**: 整合地址點擊開啟 Google Maps、電話點擊撥打。
- **導覽列 (Navbar)**：
  - 左側：動態商家名稱 (Logo/Text)
  - 右側：[保固查詢]、[預約維修]、[Google Login/User頭像]、[Admin小圖示]
- **預約月曆**：提供視覺化的月份導覽，自動標記「店休」與「補班」，點擊日期後開啟時段選單。

## 3. 系統核心邏輯 (System Logic)
- **身分驗證**: 強制使用 Google 帳號登入 (NextAuth v5)。
- **預約排程**:
  - **時段長度**: 動態設定 (預設 120 分鐘)。
  - **平行數量**: 同一時段僅限一筆預約。
  - **緩衝時間**: 系統自動排除過去的時段與 60 分鐘內的緊急時段。
- **保固管理**：支援透過「車牌」+「電話」雙重驗證查詢。
- **假日管理**：支援自動同步台灣政府日曆，並提供管理者「手動覆蓋」機制，滿足臨時加班或額外店休需求。
- **狀態追蹤**: 預約流程含「待確認」、「已確認」、「已完成」、「已取消」四種主要狀態。
- **動態設定**: 管理者可隨時修改商家名稱、電話、地址、時段時長等全站共用資訊。

## 4. 資料庫架構 (Schema Overview)
- **User**: 用戶資訊、頭像、角色權限。
- **Settings**: 全站系統配置 (唯一欄位)。
- **Service**: 預維修項目配置 (名稱、時長、價格、啟動狀態)。
- **Customer**: 客戶主檔 (以電話為唯一辨識碼)。
- **Vehicle**: 車輛主檔 (以車牌為唯一辨識碼)。
- **Appointment**: 預約與維修記錄 (核心關聯表)，包含 PENDING, CONFIRMED, COMPLETED, CANCELLED 狀態。
- **Holiday**: 假日與補班日特別規則表。

## 5. 擴充建議 (Future Roadmap)
- **LINE Notify**: 預約成功後即時推播通知。
- **維修管理**: 增加照片上傳功能，記錄維修前後對比。
- **營運分析**: 每月維修量、車型分布等統計圖表。
